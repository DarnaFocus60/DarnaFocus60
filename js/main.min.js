'use strict';var acc=document.getElementsByClassName("accordion"),i;for(i=0;i<acc.length;i++)acc[i].addEventListener("click",function(){var a=this.nextElementSibling;if(a.style.maxHeight)a.style.maxHeight=null,this.classList.remove("active");else{for(var b of acc)b.classList.remove("active"),b.nextElementSibling.style.maxHeight=null;a.style.maxHeight=a.scrollHeight+"px";this.classList.add("active")}});
async function updateContent(a){document.querySelectorAll("[data-i18n]").forEach(b=>{const c=b.getAttribute("data-i18n");b.innerHTML=a[c]});document.querySelectorAll("[data-i18n-img]").forEach(b=>{const c=b.getAttribute("data-i18n-img");a[c]&&!b.src&&(b.src=a[c])})}function setLanguagePreference(a){localStorage.setItem("language",a);location.reload()}async function fetchLanguageData(a){return(await fetch(`languages/${a}.json`)).json()}
async function changeLanguage(a){await setLanguagePreference(a);a=await fetchLanguageData(a);updateContent(a)}function toggleArabicStylesheet(a){const b=document.querySelector("head"),c=document.querySelector("#styles-link");c?b.removeChild(c):"ar"===a&&(a=document.createElement("link"),a.id="styles-link",a.rel="stylesheet",a.href="css/style-ar.css",b.appendChild(a))}
window.addEventListener("DOMContentLoaded",async()=>{const a=localStorage.getItem("language")||"nl",b=await fetchLanguageData(a);updateContent(b);toggleArabicStylesheet(a);document.querySelectorAll(".lang-link a").forEach(c=>{c.classList.remove("active");c.getAttribute("onclick").includes(a)&&c.classList.add("active")});$("#flipbook").bind("turned",async function(){const c=await fetchLanguageData(a);$(".flipbook .page img").each(function(){const d=$(this).attr("data-i18n-img");d&&c[d]&&!$(this).attr("src")&&
$(this).attr("src",c[d])})})});